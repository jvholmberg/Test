!function(){"use strict";function n(n,o){function t(){i("in",0,150),i("in",500,150),i("out",0,350),i("out",500,350),e(l,n.pointsIn),e(p,n.pointsOut)}function e(n,o){n.clearRect(0,0,n.width,n.height),n.beginPath();for(var t=1;t<o.length;t++)n.moveTo(o[t-1].x,o[t-1].y),n.lineTo(o[t].x,o[t].y);n.lineWidth=3,n.strokeStyle="red",n.stroke()}function i(o,t,e){"in"===o?n.pointsIn.push({x:t,y:e}):"out"===o&&n.pointsOut.push({x:t,y:e})}n.pointsIn=[],n.pointsOut=[];var s=angular.element(document.querySelector(".camera-wrapper")),l=document.getElementById("canvas-in");l=l.getContext("2d");var p=document.getElementById("canvas-out");p=p.getContext("2d"),n.checkLines=function(t){console.log(t);var e=t.offsetX,i=t.offsetY;console.log({x:e,y:i}),l.isPointInStroke(e,i)?s.append(o(angular.element('<span class="point point-in" xpos="'+e+'" ypos="'+i+'" draggable></span>'))(n)):p.isPointInStroke(e,i)&&s.append(o(angular.element('<span class="point point-out" xpos="'+e+'" ypos="'+i+'" draggable></span>'))(n))},t()}function o(){return{restrict:"A",scope:{xpos:"=",ypos:"="},controller:function(){},link:function(n,o){console.log("link"),console.log(n),o.css({left:n.xpos+"px",top:n.ypos+"px"})}}}angular.module("app").controller("CountingLinesController",n).directive("draggable",o),n.$inject=["$scope","$compile"],o.$inject=[]}();